(self.webpackChunkccm_app=self.webpackChunkccm_app||[]).push([[222],{222:function(t,e,n){"use strict";function r(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.r(e),n.d(e,{default:function(){return i}}),n(2222),n(6992),n(1539),n(8674),n(8783),n(3948),n(4747),n(4916),n(5306),n(9714),n(4765),n(2526),n(1817),n(2165),n(1038),n(7042),n(8309);var o={"12:00 AM":{status:"B3",end:"C3"},"1:00 AM":{status:"B4",end:"C4"},"2:00 AM":{status:"B5",end:"C5"},"3:00 AM":{status:"B6",end:"C6"},"4:00 AM":{status:"B7",end:"C7"},"5:00 AM":{status:"B8",end:"C8"},"6:00 AM":{status:"B9",end:"C9"},"7:00 AM":{status:"B10",end:"C10"},"8:00 AM":{status:"B11",end:"C11"},"9:00 AM":{status:"B12",end:"C12"},"10:00 AM":{status:"B13",end:"C13"},"11:00 AM":{status:"B14",end:"C14"},"12:00 PM":{status:"B15",end:"C15"},"1:00 PM":{status:"B16",end:"C16"},"2:00 PM":{status:"B17",end:"C17"},"3:00 PM":{status:"B18",end:"C18"},"4:00 PM":{status:"B19",end:"C19"},"5:00 PM":{status:"B20",end:"C20"},"6:00 PM":{status:"B21",end:"C21"},"7:00 PM":{status:"B22",end:"C22"},"8:00 PM":{status:"B23",end:"C23"},"9:00 PM":{status:"B24",end:"C24"},"10:00 PM":{status:"B25",end:"C25"},"11:00 PM":{status:"B26",end:"C26"}},s=(document.getElementById("AgendaTable").querySelectorAll("tbody tr"),function(t){return t<=9?"0"+t:t});function c(t){var e=[t.getFullYear(),s(t.getMonth()+1),s(t.getDate()),s(t.getHours()),s(t.getMinutes()),s(t.getSeconds())],n=e[1],r=e[2],a=e[3],o=e[4],c=e[5];return"".concat(e[0]).concat(n).concat(r,"T").concat(a).concat(o).concat(c)}function u(t){var e=t.target.querySelectorAll("[id*=startInput]"),s=t.target.querySelectorAll("[id*=endInput]"),u=t.target.querySelectorAll("h2"),i=[];t.preventDefault(),n.e(729).then(n.t.bind(n,3729,23)).then((function(t){var n,l=t.default;(n=e,function(t){if(Array.isArray(t))return a(t)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||r(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t,e){var n=t.parentElement.parentElement.parentElement,r=new Date(t.value),a=new Date(t.value),o=s[e].value.toString().replace(/(\d{4})-(\d{2})-(\d{2})/,"$2/$3/$1"),d=new Date(o),f=u[e].innerHTML,y=f.replace(/^(\d\d?):.+$/,"$1"),p=-1!==f.search(/PM$/)?parseInt(y,10)+12:parseInt(y,10);r.setHours(p),a.setHours(p+1),d.setHours(23,59);var v="BEGIN:VCALENDAR\nVERSION:2.0\nCALSCALE:GREGORIAN\nPRODID:https://ccmadison.github.io/ccm-app/\nBEGIN:VEVENT\nUID:".concat(c(r),"-").concat(c(d),"\nSUMMARY:My prayer time - ").concat(f,"\nDESCRIPTION:My prayer time for ").concat(f," (until: ").concat(o,")\nSTATUS:CONFIRMED\nDTSTAMP:").concat(c(r),"Z\nDTSTART;TZID=America/Chicago:").concat(c(r),"\nRRULE:FREQ=DAILY;UNTIL=").concat(c(d),"Z\nDTEND;TZID=America/Chicago:").concat(c(a),"\nEND:VEVENT\nEND:VCALENDAR");n.insertAdjacentHTML("beforeend",'<div class="col-12 text-center">\n  <div class="card card-body">\n    <p class="mb-0">\n      <button type="button" class="btn btn-outline-primary Download">Download Calendar file (.ics)</button> with reminders\n    </p>\n  </div>\n</div>'),n.querySelector(".Download").addEventListener("click",(function(t){l(v,"prayer-reservation_".concat(e+1,".ics"),"text/calendar")})),i.push([f,"TRUE",o])}));var d,f={spreadsheetId:"1UyPFZVN4NIo959qxGCwP6cyKoe9fq5KHD0zE2hyGUi8",valueInputOption:"USER_ENTERED"},y={majorDimension:"COLUMNS"},p=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,s=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw s}}}}(i);try{var v=function(){var t=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],s=!0,c=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){c=!0,a=t}finally{try{s||null==n.return||n.return()}finally{if(c)throw a}}return o}}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d.value,3),e=t[0],n=t[1],a=t[2],s="Agenda!".concat(o[e].status,":").concat(o[e].end);f.range=s,y.range=s,y.values=[[n],[a]],gapi.client.sheets.spreadsheets.values.update(f,y).then((function(t){console.log(t);var n=document.getElementById("Reserve").querySelector(".card.card-body.bg-light"),r=document.getElementById("reserveSubmit"),o='<div class="alert alert-success text-center mb-3" role="alert">\n    <h3 class="text-success">Success!</h3>\n    <p class="text-success mb-0">\n      Your reservation for the daily <strong>'.concat(e,"</strong> prayer time was successful! <br>\n      You have reserved the ").concat(e," prayer block until <strong>").concat(a,"</strong>.\n    </p>\n  </div>");n.insertAdjacentHTML("afterbegin",o),r.disabled=!0}),(function(t){console.error("Error updating the spreadsheet: ".concat(t.result.error.message))}))};for(p.s();!(d=p.n()).done;)v()}catch(t){p.e(t)}finally{p.f()}}))}var i=function(){document.getElementById("Reserve").addEventListener("submit",u,!1)}},1150:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},9714:function(t,e,n){"use strict";var r=n(1702),a=n(6530).PROPER,o=n(1320),s=n(9670),c=n(7976),u=n(1340),i=n(7293),l=n(7066),d="toString",f=RegExp.prototype,y=f.toString,p=r(l),v=i((function(){return"/a/b"!=y.call({source:"a",flags:"b"})})),m=a&&y.name!=d;(v||m)&&o(RegExp.prototype,d,(function(){var t=s(this),e=u(t.source),n=t.flags;return"/"+e+"/"+u(void 0===n&&c(f,t)&&!("flags"in f)?p(t):n)}),{unsafe:!0})},4765:function(t,e,n){"use strict";var r=n(6916),a=n(7007),o=n(9670),s=n(4488),c=n(1150),u=n(1340),i=n(8173),l=n(7651);a("search",(function(t,e,n){return[function(e){var n=s(this),a=null==e?void 0:i(e,t);return a?r(a,e,n):new RegExp(e)[t](u(n))},function(t){var r=o(this),a=u(t),s=n(e,r,a);if(s.done)return s.value;var i=r.lastIndex;c(i,0)||(r.lastIndex=0);var d=l(r,a);return c(r.lastIndex,i)||(r.lastIndex=i),null===d?-1:d.index}]}))}}]);